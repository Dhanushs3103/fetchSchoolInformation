<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Information</title>
</head>
<body>
    <div id="root">School Information</div>
</body>
<script>
const school = {
  name: "XYZ School",
  establishYear: 1990,
  departments: {
    math: { teachers: 5, students: 150 },
    science: { teachers: 4, students: 120 },
    history: { teachers: 3, students: 100 },
    english: { teachers: 4, students: 130 },
  },
  courses: ["math", "science", "history", "english"],
  students: [
    {
      name: "Alice",
      className: "Grade 5",
      scores: { math: 95, science: 88, history: 85, english: 92 },
    },
    {
      name: "Bob",
      className: "Grade 4",
      scores: { math: 80, science: 78, history: 92, english: 85 },
    },
    {
      name: "Charlie",
      className: "Grade 5",
      scores: { math: 88, science: 90, history: 78, english: 88 },
    },
    {
      name: "Diana",
      className: "Grade 4",
      scores: { math: 92, science: 85, history: 88, english: 90 },
    },
  ],
};

//Problem 10 -> countCalculation : This function counts the number of teachers and students in math and history departments.
function  countCalculation (school) {
    // destructuring the departments.
    let {math , science , history , english} = school.departments

    // destructuring each department with teacher and student values.
    let {teachers: mathTeachers , students: mathStudents} = math;
    let {teachers: historyTeachers , students: historyStudents} = history;   

    return obj= {
        mathTeachersCount : mathTeachers,
        historyTeachersCount : historyTeachers,
        mathStudentsCount : mathStudents,
        historyStudentsCount : historyStudents
    };  
}

//Problem 11 -> findTopStudent : This function finds the top student in math department.
function  findTopStudent (school,course) {
    let {students}=school;
    let maxScore = -Infinity;
    let obj ={};
    // looping over the students 
    for (let i = 0; i < students.length; i++) {
        let {scores}=students[i];
        if(scores[course]>maxScore){
            maxScore = scores[course];

            obj.name = students[i].name;
            obj.className = students[i].className;
            obj.scores = scores[course];
        }
    }
    return obj
}

//Problem 12 -> addNewDept : This function adds a new department to the school.

function addNewDept (school,departmentName ,obj) {

    const newDepartment = {
        ...school.departments, 
        [departmentName]: obj 
    };

    return {
        ...school,
        departments: newDepartment
    };

}

// Problem 13 -> highestStudentCountDepartment : This function finds the department with the highest number of students.

function highestStudentCountDepartment (school) {
    let maxStudentsCourse = "";
    let maxStudents = -Infinity;
    // looping over the departments
    for(let dept in school.departments){
        if(school.departments[dept].students > maxStudents) {
              maxStudents = school.departments[dept].students;
           maxStudentsCourse = dept;
        }
    }

    return `The department with the highest number of students is - ${maxStudentsCourse}`;
}


// Problem 14 -> generateGreeting : This function generates a greeting message for the name and language you provide.

function generateGreeting (name,language = "English") {

    let languages = {
        English : `Hello ${name}`,
        Hindi : `Namaste (नमस्ते) ${name}`,
        French : `Bonjour ${name}`,
        Spanish : `Hola ${name}`,
        German : `Guten Tag ${name}`,
        Russian : `Privet ${name}`,
        Japanese : `Kon'nichiwa ${name}`,
        Telugu : `Namaskaram (నమస్కారం) ${name}`,
        Kannada : `Namaskara (ನಮಸ್ಕಾರ) ${name}`,
        Urdu : `As-salamu alaykum (لسلام علیکم) ${name}`,
    }

    for (let lang in languages) {
        if(lang === language) {
            return languages[lang];
        }
    }

}

// ---------> Code Ends and Execution Begins <----------

console.log(countCalculation(school));

console.log(findTopStudent(school,"math"))

console.log(addNewDept(school,"art", {teachers : 2, students : 50}));

console.log(highestStudentCountDepartment(school));

console.log(generateGreeting("Dhanush","Telugu"));


</script>
</html>